<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>apnaGhar </title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link rel="stylesheet" href="/img/apnaGhar.jpg">
    <link href="/img/apnaGhar.png" rel="icon" />


    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">

    <!-- Vendor CSS Files -->

    <link rel="stylesheet" href="/vendor/animate.css/animate.min.css">
    <link rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.rtl.css">
    <link rel="stylesheet" href="/vendor/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="/vendor/swiper/swiper-bundle.min.css">

    <!-- Template Main CSS File -->
    <link rel="stylesheet" href="/css/style.css">
    <style>
        table {
            border-collapse: collapse;
            margin: 0 auto;
            /* border: 2px solid #ddd; */
        }

        td {
            font-size: large;
            font-weight: 400;
            text-align: center;
        }

        th,
        td {
            padding: 8px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }

        th {
            border-top: 2px solid #ddd;
            border-bottom: 1px solid #ddd;
            background-color: #f2f2f2;
            padding: 10px;
            color: black;
        }

        h1 {
            margin-top: 10px;
            text-align: center;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }

        table a:hover {
            color: blue;
            text-decoration: underline;
        }

        .search {
            /* padding: 20px; */
            margin: 20px;
            width: 90%;
            /* padding-left: 20%; */
            border: 2px solid black;
            text-align: center;
        }
    </style>


</head>

<body>



    <!-- ======= Header/Navbar ======= -->
    <nav class="navbar navbar-default navbar-trans navbar-expand-lg">
        <div class="container">
            <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarDefault" aria-controls="navbarDefault" aria-expanded="false"
                aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <a class-"nav-link" href="/"> <img src="/img/apnaGhar.jpg" alt="" class="logo"></a>

            <div class="navbar-collapse collapse justify-content-center" id="navbarDefault">
                <ul class="navbar-nav">

                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link " href="/about">About</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link " href="/addProperty">Add Property</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link " href="/property">Properties</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link " href="/contact">Contact</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link " href="/login">Login</a>
                    </li>

                </ul>
            </div>



        </div>
    </nav>


    <h1> Properties</h1>


    <input type="text" name="search" class="search" id="myInput" placeholder="Search based on your criteria "
        onkeyup="searchFunc()" autocomplete="off">

    <table id="myTable" class="table-sortable">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Property Type</th>
                <th>Area</th>
                <th>Choice </th>
                <th>City</th>
                <th>State</th>
                <th>Price</th>
                <th>Desc</th>
            </tr>
        </thead>

        <tbody>
            <%propertyList.forEach(property=> {%>
                <tr>
                    <td>
                        <%= property.name %>
                    </td>
                    <td>
                        <%= property.email %>
                    </td>
                    <td>
                        <%= property.phone %>
                    </td>
                    <td>
                        <%= property.propertytype %>
                    </td>
                    <td>
                        <%= property.area %> feet <sup>2</sup>
                    </td>
                    <td>
                        <%= property.choice %>
                    </td>
                    <td>
                        <%= property.city %>
                    </td>
                    <td>
                        <%= property.state %>
                    </td>
                    <td>
                        <%= property.price %>
                    </td>
                    <td>
                        <a href="/property-single"> View More</a>
                    </td>
                </tr>
                <%})%>
        </tbody>
    </table>


    <script>

        var input = document.getElementById("myInput");
        var table = document.getElementById("myTable");

        // Loop through all table rows and hide those that don't match the search query
        function filterTable() {
            var filter = input.value.toUpperCase();
            var rows = table.getElementsByTagName("tr");

            for (var i = 1; i < rows.length; i++) {
                var cells = rows[i].getElementsByTagName("td"); var visible = false; for
                    (var j = 0; j < cells.length; j++) {
                    var cell = cells[j]; if (cell) {
                        var text = cell.textContent ||
                            cell.innerText; if (text.toUpperCase().indexOf(filter) > -1) {
                                visible = true;
                                break;
                            }
                    }
                }
                rows[i].style.display = visible ? "" : "none";
            }
        }

        // Listen for input events and filter the table on each input event
        input.addEventListener("input", filterTable);

    </script>
</body>

</html>